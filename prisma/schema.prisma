// Définition du générateur Prisma et de la source de données
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

enum StaffRole {
  ADMIN
  TEACHER
  STUDENT
}

enum InternshipStatus {
  PENDING
  ACCEPTED
  REJECTED
}

model User {
  id          String       @id
  firstname   String
  lastname    String
  email       String       @unique
  password    String
  role        StaffRole
  internships Internship[]
}

model Internship {
  id             String           @id @default(uuid())
  // studentId stock la clé étrangère id de User
  studentId      String
  companyName    String
  companyAddress String
  companyCity    String
  companyZipCode String
  tutorName      String
  tutorPhone     String
  tutorEmail     String
  description    String
  salary         String
  status         InternshipStatus @default(PENDING)
  contractUrl    String?
  student        User             @relation(fields: [studentId], references: [id])
  // teacherId      String?
  // teacher        User?            @relation(fields: [teacherId], references: [id])
}
